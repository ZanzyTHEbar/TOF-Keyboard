[common]
owner = "DaOfficialWizard"
description = "Adam James - Fancy Display"

[env]
platform = espressif32
board = esp32-s3-devkitc-1
framework = arduino
monitor_speed = 115200
monitor_filters =
	log2file
	time
	default
	esp32_exception_decoder
board_build.partitions = min_spiffs.csv
;build_unflags = -Os ; disable optimization for size
lib_ldf_mode = deep+
;115200 is used for compatability - if you are on windows and want the code to flash faster use 921600
upload_speed = 921600
lib_deps =
	https://github.com/stm32duino/VL53L4CX
	https://github.com/adafruit/Adafruit_VL53L0X
	#https://github.com/chegewara/EspTinyUSB
	#https://github.com/chegewara/esp32-usb-v2
extra_scripts =
	pre:tools/customname.py
	post:tools/createzip.py
build_flags =
	-DDEBUG_ESP_PORT=Serial                   ; set the debug port
	#-DENABLE_ADHOC=${wifi.enableadhoc}
	#-DADHOC_CHANNEL=${wifi.adhocchannel}
	#-DWIFI_CHANNEL=${wifi.channel}
	#-DENABLE_OTA=${ota.enableota}
	#-DOTA_SERVER_PORT=${ota.otaserverport}
	#'-DMDNS_HOSTNAME=${wifi.mDNSName}'       ; Set the OTA password
	#'-DWIFI_AP_SSID=${wifi.ap_ssid}'
	#'-DWIFI_AP_PASSWORD=${wifi.ap_password}'
	#'-DWIFI_AP_CHANNEL=${wifi.adhocchannel}'
	#'-DOTA_PASSWORD=${ota.otapassword}'      ; Set the OTA password
	#'-DOTA_IP=${ota.otaserverip}'            ; Set the OTA password
	'-DUSB_VENDOR_ID=${usb.vendorid}'
	'-DUSB_PRODUCT_ID=${usb.productid}'
	'-DUSB_MANUFACTURER=${usb.manufacturer}'
	'-DUSB_PRODUCT=${usb.product}'
	'-DUSB_SERIAL_NUMBER=${usb.serialnumber}'
	-DUSB_BCD=${usb.usbbcd}
	-DUSB_REVISION_BCD=${usb.revisionbcd}
	-DMAX_RANGE=${sensors.max_range}

	-O2 ; optimize for speed
	#-DASYNCWEBSERVER_REGEX ; enable regex in asyncwebserver

	# Comment these out if you are not using psram
	#-DBOARD_HAS_PSRAM             ; enable psram
	#-mfix-esp32-psram-cache-issue ; fix for psram
	; Compile with -DHTTP_PARSER_STRICT=0 to make less checks, but run faster
